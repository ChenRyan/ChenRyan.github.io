(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{400:function(n,e,v){"use strict";v.r(e);var _=v(15),o=Object(_.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("token面试题:项目当中token过期、失效如何处理？\n答：清除本地token（本地存储），让用户回到登录页，获取最新的token")]),n._v(" "),e("p",[n._v("项目day12:今天课程重点【登录注册业务】")]),n._v(" "),e("p",[n._v("1.1:注册业务已经完成【手机号、验证码、登录密码】，点击注册按钮的时候，需要把这些信息给服务器传递过去\n手机号:11位\n验证码：4-6\n登录密码：英文字母、数字、首字母大写等等")]),n._v(" "),e("p",[n._v("1.2登录业务\n当你点击登录按钮的时候，需要把手机号、密码需要携带给服务器，服务器需要判断，你是不是我的用户【注册过的】\n如果是用户登录成功，进行登录，如果用户登录失败给一个提示即可。")]),n._v(" "),e("p",[n._v("1.3token【令牌：字符串，服务器下发给用户的身份凭证】\n举例子:古代大战，兵符")]),n._v(" "),e("hr"),n._v(" "),e("p",[n._v("一、用户登录以后获取用户信息进行展示")]),n._v(" "),e("p",[n._v("企业项目:登录成功以后，服务器会返回token【存储于vuex当中】，如果想获取用户信息\n还需要再发请求【用户信息】，携带token给服务器。\napi/user/passport/auth/getUserInfo 获取用户信息的接口")]),n._v(" "),e("p",[n._v("1.1:为什么刷新页面，用户信息就消失\n用户刷新页面，用户信息消失没了获取不到，因为token没有携带给服务器。\nVuex存储数据是否持持久化的?并非持久化\n1.2：本地存储持久化存储token")]),n._v(" "),e("p",[n._v("1.2为什么去别的模块【非home模块】获取用户信息失败？\n因为你去别的模块根本没有发请求获取用户信息，没办法展示用户信了")]),n._v(" "),e("p",[n._v("怎么解决:\n每一个组件都在mounted里面发起获取用户信息，进行展示（可以太麻烦）\n残留的问题：用户在home模块刷新的时候，用户信息一直在展示（mounted执行的时候在向服务器发请求、获取用户信息展示）")]),n._v(" "),e("p",[n._v("home->search[用户信息刷新数据就没了，因为在search模块当中根本没有发请求获取用户信息]\nsearch-detail[根本没有获取用户信息进行展示]")]),n._v(" "),e("p",[n._v("二、退出登录\n2.1发请求，需要通知服务器，把现在用户身份token【销毁】\n2.2清除仓库数据+本地存储数据【都需要清理】")]),n._v(" "),e("p",[n._v("三、演示一些操作，你看一下是否正常?\n用户已经登录了，用户想从home路由跳转到login路由，不应该这么操作了。\n现在用户登录以后，home路由不应该跳转到login路由当中【因为登陆了】，\n但是咱们以现在认知【技术】，没办法约束从home调到login")]),n._v(" "),e("p",[n._v("四、导航守卫*****\n守卫条件判断*****")]),n._v(" "),e("p",[n._v("导航:表示路由正在发生改变。\n守卫:古代的守门的士兵'守卫'，守卫可以通过条件判断路由能不能进行跳转。")]),n._v(" "),e("p",[n._v("三大守卫:")]),n._v(" "),e("p",[n._v("全局守卫：\n项目当中任何路由变化都可以检测到，通过条件判断可不可以进行路由跳转。\n前置守卫：路由跳转之前可以做一些事情。\n后置守卫：路由跳转已经完成在执行。\n//全局守卫:[后置守卫:在路由跳转完毕之后才会执行一次]\nrouter.afterEach(()=>{\nconsole.log('守卫:路由跳转完毕才会执行一次')\n})")]),n._v(" "),e("p",[n._v("4.1用户已经登录了，不应该在访问login？【通过什么条件能判断用户登录、未登录】\n路由独享守卫：\n针对某一个路由的守卫")]),n._v(" "),e("p",[n._v("组件内守卫：\n也是负责某一个路由守卫")]),n._v(" "),e("p",[n._v("5)身份凭证?\n以后登录：\nTOKEN身份为大\n5.1UUID生成的临时省份\n5.2用户（注册与登录）token【正式身份】")])])}),[],!1,null,null,null);e.default=o.exports}}]);